"use strict";(function(t,e){EasyBooking.BundleDatepickers=function(){class e extends(EasyBooking.datepickersClass("bundle")){constructor(t){super(t),this.$qty_input=this.$cart.find(`.cart.bundle_data[data-bundle_id='${this.product.id}'] input[name="quantity"]`),this.$cart.find(".bundle_price").remove(),this.$picker_wrap.hide(),this.bundleEvents()}bundleEvents(){var e=this;e.$reset_dates.on("click",function(){e.updatePrice(e.product.bundle_totals.price,e.product.bundle_totals.regular_price)}),e.$cart.on("woocommerce-product-bundle-show",function(){e.$picker_wrap.slideDown(200)}),e.$cart.on("woocommerce-product-bundle-hide",function(){e.$picker_wrap.hide()}),e.$cart.on("woocommerce-product-bundle-updated",function(i,a){let n=Object.assign({},e.product.selectedIDs);e.product.bundle_totals=a.api.get_bundle_totals(),e.product.selectedIDs={},e.product.selectedIDs[e.product.id]="false"===e.$qty_input.val()?1:parseFloat(e.$qty_input.val()),t.each(a.api.get_bundle_configuration(),function(t,i){if("variable"===i.product_type&&0!==i.variation_id.length&&i.quantity>0){let a=e.$cart.find(`.cart[data-bundled_item_id="${t}"]`).data("product_variations"),n=a.find(t=>t.variation_id==i.variation_id&&t.is_bookable);void 0!==n&&e.$cart.trigger("wceb_variation_found",[n,e.$cart]),e.product.selectedIDs[i.variation_id]=parseFloat(i.quantity)}else"variable"!==i.product_type&&i.quantity>0&&(e.product.selectedIDs[i.product_id]=parseFloat(i.quantity))}),e.$cart.trigger("wceb_update_bundle_selection"),e.handleMultipleProductSelection(n,e.product.bundle_totals.price,e.product.bundle_totals.regular_price)})}}return e}(),jQuery(function(){t("body").find(".cart.bundle_form").each(function(){let e=new EasyBooking.BundleDatepickers(t(this))})})})(jQuery,window);